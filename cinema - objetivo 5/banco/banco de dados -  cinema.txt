CREATE DATABASE cinema;  

CREATE TABLE filme(
idfilme INT AUTO_INCREMENT PRIMARY KEY,
tituloFilme VARCHAR(50) NOT NULL,
duracaoFilme TIME NOT NULL
);

  CREATE TABLE genero(
idgenero INT AUTO_INCREMENT PRIMARY KEY,
descricao VARCHAR(30) NOT NULL,
idfilme INT,
KEY `fk_filmes_generos` (`idfilme`)
);


ALTER TABLE `genero`
  ADD CONSTRAINT `fk_filmes_generos` FOREIGN KEY (`idfilme`) REFERENCES `Filme` (`idfilme`) ON DELETE NO ACTION ON UPDATE NO ACTION;


  CREATE TABLE atua(
idatua INT AUTO_INCREMENT PRIMARY KEY,
papelatorfilme VARCHAR(50) NOT NULL,
idfilme INT,
KEY `fk_atua_filmes` (`idfilme`)
);


ALTER TABLE `atua`
  ADD CONSTRAINT `fk_atua_filmes` FOREIGN KEY (`idfilme`) REFERENCES `Filme` (`idfilme`) ON DELETE NO ACTION ON UPDATE NO ACTION;

  CREATE TABLE ator (
idator INT AUTO_INCREMENT PRIMARY KEY,
nomeAtor VARCHAR(50) NOT NULL,
idpapel INT,
KEY `fk_atua_atores` (`idpapel`)
);


ALTER TABLE `ator`
  ADD CONSTRAINT `fk_atua_atores` FOREIGN KEY (`idpapel`) REFERENCES `atua` (`idatua`) ON DELETE NO ACTION ON UPDATE NO ACTION;

Inserts

INSERT INTO `filme` (`tituloFilme`, `duracaoFilme`)
VALUES ('Avatar', '02:45:10');

INSERT INTO `genero` (`descricao`, `idfilme`)
VALUES ('ficcao cientifica', 1);

INSERT INTO `atua` (`papelatorfilme`, `idfilme`)
VALUES ('Navhi oshumua', 1);

INSERT INTO `ator` (`nomeAtor`, `idpapel`)
VALUES ('Fernando Bloom', 1);

INSERT INTO `atua` (`papelatorfilme`, `idfilme`)
VALUES ('general Toss', 1);

INSERT INTO `ator` (`nomeAtor`, `idpapel`)
VALUES ('Henry Cavill', 2);

consulta

SELECT filme.tituloFilme, genero.descricao, atua.papelatorfilme, ator.nomeAtor 
FROM filme, genero, atua, ator
WHERE filme.idfilme = genero.idfilme AND filme.idfilme = atua.idfilme AND atua.idatua = ator.idpapel;




